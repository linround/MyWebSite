{"version":3,"file":"static/js/887.5c80282f.chunk.js","mappings":"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","sources":["pages/canvas/index.js"],"sourcesContent":["import React, { createRef } from 'react'\r\nimport './style.scss'\r\n\r\nexport default class Demo extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.ref = createRef()\r\n\r\n  }\r\n  componentDidMount() {\r\n    const cw = 500\r\n    const ch = 500\r\n    class Seem {\r\n      constructor(\r\n        x, y, l\r\n      ) {\r\n        this.b = (Math.random() * 1.9) + 0.1\r\n        this.x0 = x\r\n        this.y0 = y\r\n        this.a = Math.random() * 2 * Math.PI\r\n        this.x1 = this.x0 + (l * Math.cos(this.a))\r\n        this.y1 = this.y0 + (l * Math.sin(this.a))\r\n        this.l = l\r\n      }\r\n      update(x, y) {\r\n        this.x0 = x\r\n        this.y0 = y\r\n        this.a = Math.atan2(this.y1 - this.y0, this.x1 - this.x0)\r\n        this.x1 = this.x0 + (this.l * Math.cos(this.a))\r\n        this.y1 = this.y0 + (this.l * Math.sin(this.a))\r\n      }\r\n    }\r\n    class Rope {\r\n      constructor(\r\n        tx, ty, l, b, slq, typ\r\n      ) {\r\n\r\n        if (typ === 'l') {\r\n          this.res = l / 2\r\n        } else {\r\n          this.res = l / slq\r\n        }\r\n        this.type = typ\r\n        this.l = l\r\n        this.segm = []\r\n        this.segm.push(new Seem(\r\n          tx, ty, this.l / this.res\r\n        ))\r\n        for (let i = 1; i < this.res; i++) {\r\n          this.segm.push(new Seem(\r\n            this.segm[i - 1].x1, this.segm[i - 1].y1, this.l / this.res\r\n          ))\r\n        }\r\n        this.b = b\r\n      }\r\n      update(t) {\r\n        this.segm[0].update(t.x, t.y)\r\n        for (let i = 1; i < this.res; i++) {\r\n          this.segm[i].update(this.segm[i - 1].x1, this.segm[i - 1].y1)\r\n        }\r\n      }\r\n      show() {\r\n        if (this.type === 'l') {\r\n          c.beginPath()\r\n          for (let i = 0; i < this.segm.length; i++) {\r\n            c.lineTo(this.segm[i].x0, this.segm[i].y0)\r\n          }\r\n          c.lineTo(this.segm[this.segm.length - 1].x1,\r\n            this.segm[this.segm.length - 1].y1)\r\n          c.strokeStyle = 'white'\r\n          c.lineWidth = this.b\r\n          c.stroke()\r\n\r\n          c.beginPath()\r\n          c.arc(\r\n            this.segm[0].x0, this.segm[0].y0, 1, 0, 2 * Math.PI\r\n          )\r\n          c.fillStyle = 'white'\r\n          c.fill()\r\n\r\n          c.beginPath()\r\n          c.arc(\r\n            this.segm[this.segm.length - 1].x1,\r\n            this.segm[this.segm.length - 1].y1,\r\n            2,\r\n            0,\r\n            2 * Math.PI\r\n          )\r\n          c.fillStyle = 'white'\r\n          c.fill()\r\n        } else {\r\n          for (let i = 0; i < this.segm.length; i++) {\r\n            c.beginPath()\r\n            c.arc(\r\n              this.segm[i].x0, this.segm[i].y0, this.segm[i].b, 0, 2 * Math.PI\r\n            )\r\n            c.fillStyle = 'white'\r\n            c.fill()\r\n          }\r\n          c.beginPath()\r\n          c.arc(\r\n            this.segm[this.segm.length - 1].x1,\r\n            this.segm[this.segm.length - 1].y1,\r\n            2, 0, 2 * Math.PI\r\n          )\r\n          c.fillStyle = 'white'\r\n          c.fill()\r\n        }\r\n      }\r\n    }\r\n    //setting up canvas\r\n    const c = this.ref.current?.getContext('2d')\r\n    const canvas = this.ref.current\r\n    canvas.width = cw\r\n    canvas.height = ch\r\n    let w  = cw\r\n    let h = ch\r\n    const ropes = []\r\n\r\n    //variables definition\r\n    const mouse = {}\r\n    const lastMouse = {}\r\n    const rl = 50\r\n    const randl = []\r\n    const target = { x: w / 2, y: h / 2, }\r\n    const lastTarget = {}\r\n    let t = 0\r\n    const q = 10\r\n    const da = []\r\n    let type = 'l'\r\n\r\n    for (let i = 0; i < 100; i++) {\r\n      if (Math.random() > 0.25) {\r\n        type = 'l'\r\n      } else {\r\n        type = 'o'\r\n      }\r\n      ropes.push(new Rope(\r\n        w / 2,\r\n        h / 2,\r\n        ((Math.random() * 1) + 0.5) * 500,\r\n        (Math.random() * 0.4) + 0.1,\r\n        (Math.random() * 15) + 5,\r\n        type\r\n      ))\r\n      randl.push((Math.random() * 2) - 1)\r\n      da.push(0)\r\n    }\r\n\r\n    //place for objects in animation\r\n    function draw() {\r\n\r\n      if (mouse.x) {\r\n        target.errx = mouse.x - target.x\r\n        target.erry = mouse.y - target.y\r\n      } else {\r\n        target.errx =\r\n          (w / 2) +\r\n          ((((h / 2) - q) *\r\n          Math.sqrt(2) *\r\n          Math.cos(t)) /\r\n          (Math.pow(Math.sin(t), 2) + 1)) -\r\n          target.x\r\n        target.erry =\r\n          (h / 2) +\r\n          ((((h / 2) - q) *\r\n          Math.sqrt(2) *\r\n          Math.cos(t) *\r\n          Math.sin(t)) /\r\n          (Math.pow(Math.sin(t), 2) + 1)) -\r\n          target.y\r\n      }\r\n\r\n      target.x += target.errx / 10\r\n      target.y += target.erry / 10\r\n\r\n      t += 0.01\r\n\r\n      for (let i = 0; i < ropes.length; i++) {\r\n        if (randl[i] > 0) {\r\n          da[i] += (1 - randl[i]) / 10\r\n        } else {\r\n          da[i] += (-1 - randl[i]) / 10\r\n        }\r\n        ropes[i].update({\r\n          x:\r\n            target.x +\r\n            ((randl[i] * rl * Math.cos((i * 2 * Math.PI)) / ropes.length) + da[i]),\r\n          y:\r\n            target.y +\r\n           ((randl[i] * rl * Math.sin((i * 2 * Math.PI)) / ropes.length) + da[i]),\r\n        })\r\n        ropes[i].show()\r\n      }\r\n      lastTarget.x = target.x\r\n      lastTarget.y = target.y\r\n    }\r\n\r\n    //mouse position\r\n    canvas.addEventListener(\r\n      'mousemove',\r\n      function (e) {\r\n        lastMouse.x = mouse.x\r\n        lastMouse.y = mouse.y\r\n\r\n        mouse.x = e.pageX - this.offsetLeft\r\n        mouse.y = e.pageY - this.offsetTop\r\n      },\r\n      false\r\n    )\r\n\r\n    canvas.addEventListener('mouseleave', function() {\r\n      mouse.x = false\r\n      mouse.y = false\r\n    })\r\n\r\n    //animation frame\r\n    function loop() {\r\n      window.requestAnimationFrame(loop)\r\n      c.clearRect(\r\n        0, 0, w, h\r\n      )\r\n      draw()\r\n    }\r\n\r\n    //window resize\r\n    window.addEventListener('resize', function () {\r\n      w = cw\r\n      h = ch\r\n      loop()\r\n    })\r\n\r\n    loop()\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='canvas-container'>\r\n        <canvas ref={this.ref}></canvas>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"names":["Demo","props","ref","createRef","Seem","x","y","l","this","b","Math","random","x0","y0","a","PI","x1","cos","y1","sin","atan2","Rope","tx","ty","slq","typ","res","type","segm","push","i","t","update","c","beginPath","length","lineTo","strokeStyle","lineWidth","stroke","arc","fillStyle","fill","current","getContext","canvas","width","height","w","h","ropes","mouse","lastMouse","randl","target","lastTarget","da","loop","window","requestAnimationFrame","clearRect","errx","erry","sqrt","pow","show","draw","addEventListener","e","pageX","offsetLeft","pageY","offsetTop","className","React"],"sourceRoot":""}