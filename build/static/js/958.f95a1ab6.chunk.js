(self.webpackChunkmy_app_react=self.webpackChunkmy_app_react||[]).push([[958],{2958:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return l}});var r=t(885),a=t(2791),o=t(7193),i=t(415),u=t(3401);function c(n){var e=n.getContext("webgl");if(e){var t=(0,i.ST)(e,"\n    // \u5b9a\u4e49\u9876\u70b9\u4e8c\u7ef4\u5411\u91cf\n    attribute vec2 a_position;\n    // \u989c\u8272\u5c5e\u6027 \u56db\u7ef4\u5411\u91cf rgba\n    attribute vec4 a_color;\n    // \u5168\u5c40\u53d8\u91cf\u77e9\u9635 3*3\u7684\u65b9\u9635\n    uniform mat3 u_matrix;\n    // \u53ef\u53d8\u91cf\u989c\u8272 \u56db\u7ef4\u5411\u91cf\n    varying vec4 to_f_color;\n    \n    void main() {\n      //\n      // \u4f4d\u7f6e\u4e58\u4ee5\u77e9\u9635\uff08\u8be5\u77e9\u9635\u662f\u4e00\u4e2a\u7f29\u653e\uff0c\u65cb\u8f6c\uff0c\u5e73\u79fb\u7684\u56e0\u5b50\uff09\n      gl_Position = vec4((u_matrix * vec3(a_position, 1)).x,(u_matrix * vec3(a_position, 1)).y,   0,    1);\n    \n      // Copy the color from the attribute to the varying.\n      to_f_color = a_color;\n    }\n  ","\n    precision mediump float;\n    varying vec4 to_f_color;\n    \n    \n    void main() {\n      gl_FragColor = to_f_color;\n    }\n  "),r=e.getAttribLocation(t,"a_position"),a=e.getAttribLocation(t,"a_color"),o=e.getUniformLocation(t,"u_matrix"),c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),function(n){n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,0,200,200,0,0,200,200,0,200,200]),n.STATIC_DRAW)}(e);var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),function(n){var e=256*Math.random(),t=256*Math.random(),r=256*Math.random(),a=256*Math.random(),o=256*Math.random(),i=256*Math.random();n.bufferData(n.ARRAY_BUFFER,new Uint8Array([e,t,r,255,e,t,r,255,e,t,r,255,a,o,i,255,a,o,i,255,a,o,i,255]),n.STATIC_DRAW)}(e);var l=[0,0],f=0,v=[1,1];return d(),{updateAngle:function(n,e){var t=360-e.value;f=t*Math.PI/180,d()},updatePosition:function(n,e){l=e.value,d()},updateScale:function(n,e){v=e.value,d()}}}function d(){e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(t),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,c);var n=2,i=e.FLOAT,d=!1,m=0,h=0;e.vertexAttribPointer(r,n,i,d,m,h),e.enableVertexAttribArray(a),e.bindBuffer(e.ARRAY_BUFFER,s),n=4,i=e.UNSIGNED_BYTE,d=!0,m=0,h=0,e.vertexAttribPointer(a,n,i,d,m,h);var g=u.projection(e.canvas.clientWidth,e.canvas.clientHeight);console.log(g),g=u.translate(g,l[0],l[1]),g=u.rotate(g,f),g=u.scale(g,v[0],v[1]),e.uniformMatrix3fv(o,!1,g);var p=e.TRIANGLES;h=0;e.drawArrays(p,h,6)}}var s=t(184);function l(){var n=(0,a.useRef)(null),e=(0,a.useState)({}),t=(0,r.Z)(e,2),i=t[0],u=t[1],l=i.updateAngle,f=i.updatePosition,v=i.updateScale;return(0,s.jsxs)("div",{children:[(0,s.jsx)("canvas",{className:o.Z.canvasContainer,ref:n,width:400,height:300}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:o.Z.canvasButton,onClick:function(){var e=c(n.current);u(e)},children:"\u7ed8\u5236\u4e09\u89d2\u5f62"}),(0,s.jsx)("div",{className:o.Z.canvasButton,onClick:function(n){l&&l(n,{value:45})},children:"\u65cb\u8f6c\u89d2\u5ea6"}),(0,s.jsx)("div",{className:o.Z.canvasButton,onClick:function(n){f&&f(n,{value:[100,100]})},children:"\u8fdb\u884c\u4f4d\u79fb"}),(0,s.jsx)("div",{className:o.Z.canvasButton,onClick:function(n){v&&v(n,{value:[2,.5]})},children:"\u8fdb\u884c\u7f29\u653e"})]})]})}},415:function(n,e,t){"use strict";function r(n,e,t){var r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS))return r;console.log("getShaderInfoLog",n.getShaderInfoLog(r)),n.deleteShader(r)}function a(n,e,t){var r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS))return r;console.log(n.getProgramInfoLog(r)),n.deleteProgram(r)}function o(n,e,t){return a(n,r(n,n.VERTEX_SHADER,e),r(n,n.FRAGMENT_SHADER,t))}t.d(e,{ef:function(){return r},HO:function(){return a},ST:function(){return o},lw:function(){return i},Sz:function(){return u}});var i={normal:[0,0,0,0,1,0,0,0,0],gaussianBlur:[.045,.122,.045,.122,.332,.122,.045,.122,.045],gaussianBlur2:[1,2,1,2,4,2,1,2,1],gaussianBlur3:[0,1,0,1,1,1,0,1,0],unsharpen:[-1,-1,-1,-1,9,-1,-1,-1,-1],sharpness:[0,-1,0,-1,5,-1,0,-1,0],sharpen:[-1,-1,-1,-1,16,-1,-1,-1,-1],edgeDetect:[-.125,-.125,-.125,-.125,1,-.125,-.125,-.125,-.125],edgeDetect2:[-1,-1,-1,-1,8,-1,-1,-1,-1],edgeDetect3:[-5,0,0,0,0,0,0,0,5],edgeDetect4:[-1,-1,-1,0,0,0,1,1,1],edgeDetect5:[-1,-1,-1,2,2,2,-1,-1,-1],edgeDetect6:[-5,-5,-5,-5,39,-5,-5,-5,-5],sobelHorizontal:[1,2,1,0,0,0,-1,-2,-1],sobelVertical:[1,0,-1,2,0,-2,1,0,-1],previtHorizontal:[1,1,1,0,0,0,-1,-1,-1],previtVertical:[1,0,-1,1,0,-1,1,0,-1],boxBlur:[.111,.111,.111,.111,.111,.111,.111,.111,.111],triangleBlur:[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625],emboss:[-2,-1,0,-1,1,1,0,1,2]},u=[{name:"gaussianBlur3",on:!0},{name:"gaussianBlur3",on:!0},{name:"gaussianBlur3",on:!0},{name:"sharpness"},{name:"sharpness"},{name:"sharpness"},{name:"sharpen"},{name:"sharpen"},{name:"sharpen"},{name:"unsharpen"},{name:"unsharpen"},{name:"unsharpen"},{name:"emboss",on:!0},{name:"edgeDetect"},{name:"edgeDetect"},{name:"edgeDetect3"},{name:"edgeDetect3"}]},3401:function(n,e){var t,r,a;r=[],void 0===(a="function"===typeof(t=function(){"use strict";var n=Float32Array;function e(e,t,r){r=r||new n(9);var a=e[0],o=e[1],i=e[2],u=e[3],c=e[4],s=e[5],l=e[6],f=e[7],v=e[8],d=t[0],m=t[1],h=t[2],g=t[3],p=t[4],_=t[5],A=t[6],B=t[7],R=t[8];return r[0]=d*a+m*u+h*l,r[1]=d*o+m*c+h*f,r[2]=d*i+m*s+h*v,r[3]=g*a+p*u+_*l,r[4]=g*o+p*c+_*f,r[5]=g*i+p*s+_*v,r[6]=A*a+B*u+R*l,r[7]=A*o+B*c+R*f,r[8]=A*i+B*s+R*v,r}function t(e){return(e=e||new n(9))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function r(e,t,r){return(r=r||new n(9))[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function a(n,t,a,o){return e(n,r(t,a),o)}function o(e,t,r){return(r=r||new n(9))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=e,r[7]=t,r[8]=1,r}function i(n,t,r,a){return e(n,o(t,r),a)}function u(e,t){var r=Math.cos(e),a=Math.sin(e);return(t=t||new n(9))[0]=r,t[1]=-a,t[2]=0,t[3]=a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(n,t,r){return e(n,u(t),r)}function s(e,t,r){return(r=r||new n(9))[0]=e,r[1]=0,r[2]=0,r[3]=0,r[4]=t,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function l(n,t,r,a){return e(n,s(t,r),a)}function f(n,e,t,r){return n*t+e*r}function v(n,e,t,r){var a=n-t,o=e-r;return Math.sqrt(a*a+o*o)}function d(n,e){var t=v(0,0,n,e);return t>1e-5?[n/t,e/t]:[0,0]}function m(n,e,t,r){var a=f(t,r,n,e);return[n-2*a*t,e-2*a*r]}function h(n){return 180*n/Math.PI}function g(n){return n*Math.PI/180}function p(n,e){var t=e[0],r=e[1],a=t*n[2]+r*n[5]+n[8];return[(t*n[0]+r*n[3]+n[6])/a,(t*n[1]+r*n[4]+n[7])/a]}function _(e,t){t=t||new n(9);var r=e[0],a=e[1],o=e[2],i=e[3],u=e[4],c=e[5],s=e[6],l=e[7],f=e[8],v=f*u-c*l,d=-f*i+c*s,m=l*i-u*s,h=1/(r*v+a*d+o*m);return t[0]=v*h,t[1]=(-f*a+o*l)*h,t[2]=(c*a-o*u)*h,t[3]=d*h,t[4]=(f*r-o*s)*h,t[5]=(-c*r+o*i)*h,t[6]=m*h,t[7]=(-l*r+a*s)*h,t[8]=(u*r-a*i)*h,t}return{degToRad:g,distance:v,dot:f,identity:t,inverse:_,multiply:e,normalize:d,projection:r,radToDeg:h,reflect:m,rotation:u,rotate:c,scaling:s,scale:l,transformPoint:p,translation:o,translate:i,project:a}})?t.apply(e,r):t)||(n.exports=a)},7193:function(n,e){"use strict";e.Z={canvasContainer:"canvasContainer_AroEJ",canvasUi:"canvasUi_B_Bta",canvasButton:"canvasButton_l2P0H"}}}]);
//# sourceMappingURL=958.f95a1ab6.chunk.js.map