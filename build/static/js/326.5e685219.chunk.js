"use strict";(self.webpackChunkmy_app_react=self.webpackChunkmy_app_react||[]).push([[326],{415:function(e,n,r){function t(e,n,r){var t=e.createShader(n);if(e.shaderSource(t,r),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS))return t;console.log("getShaderInfoLog",e.getShaderInfoLog(t)),e.deleteShader(t)}function a(e,n,r){var t=e.createProgram();if(e.attachShader(t,n),e.attachShader(t,r),e.linkProgram(t),e.getProgramParameter(t,e.LINK_STATUS))return t;console.log(e.getProgramInfoLog(t)),e.deleteProgram(t)}function o(e,n,r){return a(e,t(e,e.VERTEX_SHADER,n),t(e,e.FRAGMENT_SHADER,r))}r.d(n,{ef:function(){return t},HO:function(){return a},ST:function(){return o},lw:function(){return i},Sz:function(){return u}});var i={normal:[0,0,0,0,1,0,0,0,0],gaussianBlur:[.045,.122,.045,.122,.332,.122,.045,.122,.045],gaussianBlur2:[1,2,1,2,4,2,1,2,1],gaussianBlur3:[0,1,0,1,1,1,0,1,0],unsharpen:[-1,-1,-1,-1,9,-1,-1,-1,-1],sharpness:[0,-1,0,-1,5,-1,0,-1,0],sharpen:[-1,-1,-1,-1,16,-1,-1,-1,-1],edgeDetect:[-.125,-.125,-.125,-.125,1,-.125,-.125,-.125,-.125],edgeDetect2:[-1,-1,-1,-1,8,-1,-1,-1,-1],edgeDetect3:[-5,0,0,0,0,0,0,0,5],edgeDetect4:[-1,-1,-1,0,0,0,1,1,1],edgeDetect5:[-1,-1,-1,2,2,2,-1,-1,-1],edgeDetect6:[-5,-5,-5,-5,39,-5,-5,-5,-5],sobelHorizontal:[1,2,1,0,0,0,-1,-2,-1],sobelVertical:[1,0,-1,2,0,-2,1,0,-1],previtHorizontal:[1,1,1,0,0,0,-1,-1,-1],previtVertical:[1,0,-1,1,0,-1,1,0,-1],boxBlur:[.111,.111,.111,.111,.111,.111,.111,.111,.111],triangleBlur:[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625],emboss:[-2,-1,0,-1,1,1,0,1,2]},u=[{name:"gaussianBlur3",on:!0},{name:"gaussianBlur3",on:!0},{name:"gaussianBlur3",on:!0},{name:"sharpness"},{name:"sharpness"},{name:"sharpness"},{name:"sharpen"},{name:"sharpen"},{name:"sharpen"},{name:"unsharpen"},{name:"unsharpen"},{name:"unsharpen"},{name:"emboss",on:!0},{name:"edgeDetect"},{name:"edgeDetect"},{name:"edgeDetect3"},{name:"edgeDetect3"}]},8326:function(e,n,r){r.r(n),r.d(n,{default:function(){return l}});var t=r(2791),a=r(7193),o=r(5873),i=r(415);function u(e,n,r){var t=e.getContext("webgl");if(t){var a=(0,i.ST)(t,"\n  // \u4e00\u4e2abuffer\u7f13\u5b58\u533a\uff0c\u5b58\u50a8\u5927\u5c0f\u4e3a\u56fe\u7247\u5bbd\u9ad8\n  attribute vec2 a_position;\n  // \u4e00\u4e2a\u7eb9\u7406\u7f13\u51b2\u533a\n  attribute vec2 a_texCoord;\n  // \u4e00\u4e2a\u5168\u5c40\u53d8\u91cf \u5185\u5bb9\u4e3a\u56fe\u7247\u7684\u5bbd\u9ad8\n  uniform vec2 u_resolution;\n  uniform float u_flipY;\n  \n  varying vec2 v_texCoord;\n  \n  void main() {\n     // convert the rectangle from pixels to 0.0 to 1.0\n     // \u5c06\u77e9\u5f62\n     vec2 zeroToOne = a_position / u_resolution;\n  \n     // convert from 0->1 to 0->2\n     vec2 zeroToTwo = zeroToOne * 2.0;\n  \n     // convert from 0->2 to -1->+1 (clipspace)\n     vec2 clipSpace = zeroToTwo - 1.0;\n  \n     gl_Position = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\n  \n     // pass the texCoord to the fragment shader\n     // The GPU will interpolate this value between points.\n     v_texCoord = a_texCoord;\n  }\n  ","\n  precision mediump float;\n\n  // our texture\n  uniform sampler2D u_image;\n  uniform vec2 u_textureSize;\n  uniform float u_kernel[9];\n  uniform float u_kernelWeight;\n  \n  // the texCoords passed in from the vertex shader.\n  varying vec2 v_texCoord;\n  \n  void main() {\n     vec2 onePixel = vec2(1.0, 1.0) / u_textureSize;\n     vec4 colorSum =\n         texture2D(u_image, v_texCoord + onePixel * vec2(-1, -1)) * u_kernel[0] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 0, -1)) * u_kernel[1] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 1, -1)) * u_kernel[2] +\n         texture2D(u_image, v_texCoord + onePixel * vec2(-1,  0)) * u_kernel[3] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 0,  0)) * u_kernel[4] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 1,  0)) * u_kernel[5] +\n         texture2D(u_image, v_texCoord + onePixel * vec2(-1,  1)) * u_kernel[6] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 0,  1)) * u_kernel[7] +\n         texture2D(u_image, v_texCoord + onePixel * vec2( 1,  1)) * u_kernel[8] ;\n     gl_FragColor = vec4((colorSum / u_kernelWeight).rgb, 1);\n  }\n  "),o=t.getAttribLocation(a,"a_position"),u=t.getAttribLocation(a,"a_texCoord"),c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),function(e,n,r,t,a){var o=n,i=n+t,u=r,c=r+a;e.bufferData(e.ARRAY_BUFFER,new Float32Array([o,u,i,u,o,c,o,c,i,u,i,c]),e.STATIC_DRAW)}(t,0,0,n.width,n.height);var l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);var s=B(t);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);for(var f=[],_=[],m=0;m<2;++m){var d=B(t);f.push(d),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,null);var v=t.createFramebuffer();_.push(v),t.bindFramebuffer(t.FRAMEBUFFER,v),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,d,0)}for(var g=t.getUniformLocation(a,"u_resolution"),h=t.getUniformLocation(a,"u_textureSize"),E=t.getUniformLocation(a,"u_kernel[0]"),T=t.getUniformLocation(a,"u_kernelWeight"),x=t.getUniformLocation(a,"u_flipY"),p=document.createElement("table"),R=document.createElement("tbody"),A=0;A<i.Sz.length;++A){var D=i.Sz[A],C=document.createElement("tr"),b=document.createElement("td"),U=document.createElement("input");U.value=D.name,U.type="checkbox",D.on&&(U.checked="true"),U.onchange=S,b.appendChild(U),b.appendChild(document.createTextNode("\u2261 "+D.name)),C.appendChild(b),R.appendChild(C)}p.appendChild(R),r.appendChild(p)}function B(e){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),n}function S(){t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(a),t.enableVertexAttribArray(o),t.bindBuffer(t.ARRAY_BUFFER,c);var e=2,r=t.FLOAT,i=!1,m=0,d=0;t.vertexAttribPointer(o,e,r,i,m,d),t.enableVertexAttribArray(u),t.bindBuffer(t.ARRAY_BUFFER,l),e=2,r=t.FLOAT,i=!1,m=0,d=0,t.vertexAttribPointer(u,e,r,i,m,d),t.uniform2f(h,n.width,n.height),t.bindTexture(t.TEXTURE_2D,s),t.uniform1f(x,1);for(var v=0,g=0;g<R.rows.length;++g){var E=R.rows[g].firstChild.firstChild;E.checked&&(F(_[v%2],n.width,n.height),P(E.value),t.bindTexture(t.TEXTURE_2D,f[v%2]),v+=1)}t.uniform1f(x,-1),F(null,t.canvas.width,t.canvas.height),P("normal")}function F(e,n,r){t.bindFramebuffer(t.FRAMEBUFFER,e),t.uniform2f(g,n,r),t.viewport(0,0,n,r)}function P(e){t.uniform1fv(E,i.lw[e]),t.uniform1f(T,function(e){var n=e.reduce((function(e,n){return e+n}));return n<=0?1:n}(i.lw[e]));var n=t.TRIANGLES;t.drawArrays(n,0,6)}}var c=r(184);function l(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null);return(0,c.jsxs)("div",{children:[(0,c.jsx)("canvas",{className:a.Z.canvasContainer,ref:e,width:400,height:300}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a.Z.canvasUi,ref:r}),(0,c.jsx)("div",{className:a.Z.canvasButton,onClick:function(){u(e.current,n.current,r.current)},children:"\u7ed8\u5236\u56fe\u5f62"}),(0,c.jsx)("img",{src:o,ref:n})]})]})}},7193:function(e,n){n.Z={canvasContainer:"canvasContainer_AroEJ",canvasUi:"canvasUi_B_Bta",canvasButton:"canvasButton_l2P0H"}},5873:function(e,n,r){e.exports=r.p+"static/media/leaves.e202cb896876965505d9.jpg"}}]);
//# sourceMappingURL=326.5e685219.chunk.js.map